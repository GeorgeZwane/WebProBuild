@model SendNotificationViewModel

@{
    ViewData["Title"] = "Send Notification to Foreman";
}

<style>
    /* Reset */
    body, html {
        margin: 0;
        padding: 0;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        background-color: #f9fafb;
        color: #333;
    }

    .layout-container {
        display: flex;
        min-height: 100vh;
        box-shadow: inset 0 0 20px #e2e8f0;
    }

    /* Sidebar */
    .sidebar {
        width: 220px;
        background-color: #1f2937; /* Dark slate */
        padding: 30px 20px;
        box-shadow: 2px 0 5px rgba(0, 0, 0, 0.15);
        color: #f9fafb;
        display: flex;
        flex-direction: column;
    }

        .sidebar .logo {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 40px;
            letter-spacing: 1.2px;
            color: #fbbf24; /* Amber 400 */
            text-transform: uppercase;
            user-select: none;
        }

    .nav-list {
        list-style: none;
        padding: 0;
        margin: 0;
        flex-grow: 1;
    }

        .nav-list li {
            margin-bottom: 16px;
        }

            .nav-list li a {
                display: block;
                padding: 12px 16px;
                border-radius: 6px;
                text-decoration: none;
                color: #d1d5db; /* Light gray */
                font-weight: 600;
                transition: background-color 0.3s ease, color 0.3s ease;
            }

                .nav-list li a:hover,
                .nav-list li a.active {
                    background-color: #fbbf24; /* Amber */
                    color: #1f2937; /* Dark slate */
                    font-weight: 700;
                    box-shadow: 0 4px 8px rgb(251 191 36 / 0.3);
                }

    /* Main Content */
    .content {
        flex: 1;
        padding: 48px 60px;
        background-color: white;
        box-shadow: inset 0 0 15px #e2e8f0;
        border-radius: 0 8px 8px 0;
    }

    h2 {
        margin-bottom: 36px;
        font-weight: 700;
        font-size: 28px;
        color: #111827; /* Almost black */
        letter-spacing: 0.5px;
        user-select: none;
    }

    /* Alerts */
    .alert {
        max-width: 600px;
        padding: 15px 20px;
        border-radius: 6px;
        margin-bottom: 30px;
        font-weight: 600;
        box-shadow: 0 2px 6px rgb(0 0 0 / 0.1);
    }

    .alert-success {
        background-color: #d1fae5;
        color: #065f46;
        border: 1px solid #10b981;
    }

    .alert-danger {
        background-color: #fee2e2;
        color: #991b1b;
        border: 1px solid #ef4444;
    }

    /* Form container */
    .form-container {
        max-width: 600px;
    }

    /* Form styling */
    form {
        background-color: #f3f4f6;
        padding: 32px 28px;
        border-radius: 10px;
        box-shadow: 0 3px 10px rgb(0 0 0 / 0.1);
    }

    label.form-label {
        display: block;
        font-weight: 600;
        margin-bottom: 8px;
        color: #374151;
        user-select: none;
    }

    select.form-select,
    textarea.form-control {
        width: 100%;
        padding: 12px 14px;
        border-radius: 8px;
        border: 1.8px solid #d1d5db;
        font-size: 16px;
        font-family: inherit;
        transition: border-color 0.3s ease;
        resize: vertical;
        min-height: 40px;
    }

        select.form-select:focus,
        textarea.form-control:focus {
            outline: none;
            border-color: #fbbf24; /* Amber */
            box-shadow: 0 0 6px #fbbf24aa;
            background-color: white;
        }

    .text-danger {
        color: #b91c1c;
        font-size: 14px;
        margin-top: 6px;
        display: block;
        user-select: none;
    }

    button.btn-primary {
        background-color: #f59e0b;
        border: none;
        color: #1f2937;
        font-weight: 700;
        font-size: 16px;
        padding: 12px 28px;
        border-radius: 10px;
        cursor: pointer;
        transition: background-color 0.3s ease, box-shadow 0.3s ease;
        user-select: none;
    }

        button.btn-primary:hover {
            background-color: #d97706;
            box-shadow: 0 6px 15px rgb(217 119 6 / 0.5);
        }

    /* Responsive */
    media (max-width: 768px) {
        .layout-container

    {
        flex-direction: column;
    }

    .sidebar {
        width: 100%;
        padding: 20px;
        border-radius: 0 0 10px 10px;
    }

    .content {
        padding: 30px 20px;
        border-radius: 0 0 10px 10px;
    }

    }
</style>

<div class="layout-container">
    <!-- Sidebar -->
    <div class="sidebar">
        <div class="logo">Main Menu</div>
        <ul class="nav-list">
            <li>
                <a class="active" href="@Url.Action("ProjectOverview", "ProjectOverview")">Overview</a>
            </li>
            <li>
                <a href="@Url.Action("CompleteProjects", "Project")">Projects</a>
            </li>
            <li>
                <a href="@Url.Action("TaskReport", "Task")">Task Reports</a>
            </li>

            <li>
                <a href="@Url.Action("NotificationView", "Task")">View Notifications</a>
            </li>

            <li>
                <a href="@Url.Action("Logout", "Account")">Log out</a>
            </li>
        </ul>
    </div>

    <!-- Main Content -->
    <div class="content">
        <h2>Send Notification</h2>

        @if (TempData["Success"] != null)
        {
            <div class="alert alert-success">
                @TempData["Success"]
            </div>
        }

        @if (TempData["Error"] != null)
        {
            <div class="alert alert-danger">
                @TempData["Error"]
            </div>
        }

        <div class="form-container">
            <form asp-action="SendNotification" method="post">
                <div class="mb-3">
                    <label asp-for="RecipientId" class="form-label">Select Foreman</label>
                    <select asp-for="RecipientId" class="form-select" asp-items="Model.Foreman">
                        <option value="">-- Select Foreman --</option>
                    </select>
                    <span asp-validation-for="RecipientId" class="text-danger"></span>
                </div>

                <div class="mb-3">
                    <label asp-for="Message" class="form-label">Message</label>
                    <textarea asp-for="Message" class="form-control" rows="4" placeholder="Type your notification..."></textarea>
                    <span asp-validation-for="Message" class="text-danger"></span>
                </div>

                <button type="submit" class="btn btn-primary">Send Notification</button>
            </form>
        </div>
    </div>
</div>

@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}
