@model WebSpaceApp.Models.TeamMemberViewModel
@{
    ViewData["Title"] = "Team Members";
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewData["Title"]</title>
    <style>
        body {
            margin: 0;
            font-family: Arial, Helvetica, sans-serif;
            background-color: #f1f1f1;
        }

        .container {
            display: flex;
            height: 100vh;
        }

        .sidebar {
            width: 220px;
            background-color: whitesmoke;
            color: #fff;
            display: flex;
            flex-direction: column;
            padding: 20px;
        }

            .sidebar .logo {
                font-size: 22px;
                font-weight: bold;
                margin-bottom: 30px;
                color: #ffc107;
            }

            .sidebar .nav-list {
                list-style: none;
                padding: 0;
                margin: 0;
                flex-grow: 1;
            }

                .sidebar .nav-list li {
                    padding: 12px 10px;
                    margin-bottom: 8px;
                    border-radius: 4px;
                    cursor: pointer;
                    transition: background 0.2s;
                }

                    .sidebar .nav-list li:hover,
                    .sidebar .nav-list li.active {
                        background-color: #ffc107;
                        color: #212529;
                        font-weight: bold;
                    }

        .main-content {
            flex: 1;
            padding: 20px 40px;
            overflow-y: auto;
            background-color: #fff;
        }

        .header {
            background-color: #f5a623;
            padding: 15px 30px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            margin-bottom: 40px;
        }

            .header .back {
                font-size: 24px;
                cursor: pointer;
                color: #fff;
            }

            .header .title {
                font-size: 24px;
                margin: 0;
                color: #fff;
                font-weight: bold;
            }

        .search-bar {
            margin: 0 0 20px 0;
            background-color: #fff;
            border: 2px solid #f5a623;
            border-radius: 25px;
            padding: 10px 15px;
            display: flex;
            align-items: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

            .search-bar input {
                border: none;
                outline: none;
                flex-grow: 1;
                font-size: 16px;
                color: #333;
            }

            .search-bar .clear {
                cursor: pointer;
                font-size: 16px;
                color: #f5a623;
                border: none;
                background: none;
            }

        .filters {
            display: flex;
            gap: 10px;
            margin: 0 0 20px 0;
            flex-wrap: wrap;
        }

            .filters button {
                background-color: #fff;
                border: 2px solid #f5a623;
                border-radius: 20px;
                padding: 8px 15px;
                color: #333;
                cursor: pointer;
                font-size: 14px;
                transition: all 0.3s ease;
            }

                .filters button:hover,
                .filters button.active {
                    background-color: #f5a623;
                    color: #fff;
                    font-weight: bold;
                }

        .member-list {
            flex-grow: 1;
            padding: 0;
            overflow-y: auto;
        }

        .member {
            background-color: #fff;
            border-radius: 15px;
            padding: 15px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            transition: transform 0.2s;
        }

            .member:hover {
                transform: translateY(-2px);
            }

            .member .avatar {
                width: 50px;
                height: 50px;
                background-color: #f5a623;
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                font-weight: bold;
                margin-right: 15px;
                color: #fff;
            }

            .member .details {
                flex-grow: 1;
            }

                .member .details .email {
                    color: #757575;
                    font-size: 14px;
                }

                .member .details .status {
                    color: #4caf50;
                    font-size: 12px;
                }

                    .member .details .status.inactive {
                        color: #9e9e9e;
                    }

            .member .arrow {
                font-size: 20px;
                color: #757575;
            }
    </style>
</head>
<body>
    <div class="container">
        <div class="sidebar">
            <div class="logo">ProBuild</div>
            <ul class="nav-list">
                <li class="active">
                    <a href="@Url.Action("Dashboard", "Project")">Project Summary</a>
                </li>
                <li>
                    <a href="@Url.Action("ViewTask", "Task")">View Tasks</a>
                </li>
                <li>
                    <a href="@Url.Action("CreateTask", "Task")">Create Task</a>
                </li>
                <li>
                    <a href="@Url.Action("MaterialInventory", "MaterialInventory")">View Material</a>
                </li>
                <li>
                    <a href="@Url.Action("AddMaterials", "MaterialInventory")">Add Material</a>
                </li>
                <li>
                    <a href="@Url.Action("TeamView", "Team")">Team</a>
                </li>
                <li>
                    <a href="@Url.Action("Budgetlist", "Budget")">Budget</a>
                </li>
                <li>
                    <a href="@Url.Action("Logout", "Account")">Log out</a>
                </li>
            </ul>
        </div>

        <div class="main-content">
            <div class="header">
                <span class="back">←</span>
                <h1 class="title">Team Members</h1>
                <span>@DateTime.Now.ToString("HH:mm")</span>
            </div>

            <form method="get" class="search-bar">
                <span>🔍</span>
                <input type="text" name="searchQuery" value="@Model.SearchQuery" placeholder="Search team members..." />
                <button type="submit" class="clear">✖</button>
            </form>

            <div class="filters">
                @foreach (var role in new[] { "All" }.Concat(Model.Roles))
                {
                    var isActive = Model.SelectedRole == role;
                    <button type="submit" name="roleFilter" value="@role" class="@(isActive ? "active" : "")">@role</button>
                }
            </div>

            <div class="member-list">
                @foreach (var member in Model.Members)
                {
                    var statusClass = member.IsActive ? "status" : "status inactive";
                    <div class="member">
                        <div class="avatar">@member.Avatar</div>
                        <div class="details">
                            <div>@member.FullName</div>
                            <div class="email">@member.Email</div>
                            <div class="@statusClass">
                                @(member.IsActive ? "Active" : "Inactive") <span>@member.Role</span>
                            </div>
                        </div>
                        <span class="arrow">›</span>
                    </div>
                }
            </div>
        </div>
    </div>
</body>
</html>